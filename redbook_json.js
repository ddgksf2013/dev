const $ = new Env("小红书");
var _0xodc='jsjiami.com.v7';function _0xb882(_0x2a1083,_0x4bfaf2){const _0x873e6d=_0x873e();return _0xb882=function(_0xb8824c,_0x3dad1){_0xb8824c=_0xb8824c-0x1f3;let _0xba79e2=_0x873e6d[_0xb8824c];if(_0xb882['EOtRdQ']===undefined){var _0x3026b5=function(_0x242ef8){const _0x1220f9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x463dfc='',_0x556797='';for(let _0x7a4fd6=0x0,_0x3ffc99,_0x40e6e2,_0xd91f6b=0x0;_0x40e6e2=_0x242ef8['charAt'](_0xd91f6b++);~_0x40e6e2&&(_0x3ffc99=_0x7a4fd6%0x4?_0x3ffc99*0x40+_0x40e6e2:_0x40e6e2,_0x7a4fd6++%0x4)?_0x463dfc+=String['fromCharCode'](0xff&_0x3ffc99>>(-0x2*_0x7a4fd6&0x6)):0x0){_0x40e6e2=_0x1220f9['indexOf'](_0x40e6e2);}for(let _0x274c35=0x0,_0x4c3ed3=_0x463dfc['length'];_0x274c35<_0x4c3ed3;_0x274c35++){_0x556797+='%'+('00'+_0x463dfc['charCodeAt'](_0x274c35)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x556797);};const _0x39a5aa=function(_0xb19647,_0x27be4c){let _0x502293=[],_0x15bc63=0x0,_0x18b19d,_0x55a5e7='';_0xb19647=_0x3026b5(_0xb19647);let _0x63fa0b;for(_0x63fa0b=0x0;_0x63fa0b<0x100;_0x63fa0b++){_0x502293[_0x63fa0b]=_0x63fa0b;}for(_0x63fa0b=0x0;_0x63fa0b<0x100;_0x63fa0b++){_0x15bc63=(_0x15bc63+_0x502293[_0x63fa0b]+_0x27be4c['charCodeAt'](_0x63fa0b%_0x27be4c['length']))%0x100,_0x18b19d=_0x502293[_0x63fa0b],_0x502293[_0x63fa0b]=_0x502293[_0x15bc63],_0x502293[_0x15bc63]=_0x18b19d;}_0x63fa0b=0x0,_0x15bc63=0x0;for(let _0x2a75e3=0x0;_0x2a75e3<_0xb19647['length'];_0x2a75e3++){_0x63fa0b=(_0x63fa0b+0x1)%0x100,_0x15bc63=(_0x15bc63+_0x502293[_0x63fa0b])%0x100,_0x18b19d=_0x502293[_0x63fa0b],_0x502293[_0x63fa0b]=_0x502293[_0x15bc63],_0x502293[_0x15bc63]=_0x18b19d,_0x55a5e7+=String['fromCharCode'](_0xb19647['charCodeAt'](_0x2a75e3)^_0x502293[(_0x502293[_0x63fa0b]+_0x502293[_0x15bc63])%0x100]);}return _0x55a5e7;};_0xb882['EtFpPn']=_0x39a5aa,_0x2a1083=arguments,_0xb882['EOtRdQ']=!![];}const _0x37a1aa=_0x873e6d[0x0],_0x5f895d=_0xb8824c+_0x37a1aa,_0x51cf57=_0x2a1083[_0x5f895d];return!_0x51cf57?(_0xb882['XKtpuo']===undefined&&(_0xb882['XKtpuo']=!![]),_0xba79e2=_0xb882['EtFpPn'](_0xba79e2,_0x3dad1),_0x2a1083[_0x5f895d]=_0xba79e2):_0xba79e2=_0x51cf57,_0xba79e2;},_0xb882(_0x2a1083,_0x4bfaf2);}const _0x20af4d=_0xb882;(function(_0x4f7b57,_0x2cc16c,_0xe7e835,_0x20c648,_0x28c691,_0x32122f,_0x1562af){return _0x4f7b57=_0x4f7b57>>0x4,_0x32122f='hs',_0x1562af='hs',function(_0x4562ec,_0x5bf760,_0x43917,_0x1dc469,_0x3e1c46){const _0x20c632=_0xb882;_0x1dc469='tfi',_0x32122f=_0x1dc469+_0x32122f,_0x3e1c46='up',_0x1562af+=_0x3e1c46,_0x32122f=_0x43917(_0x32122f),_0x1562af=_0x43917(_0x1562af),_0x43917=0x0;const _0x425ea5=_0x4562ec();while(!![]&&--_0x20c648+_0x5bf760){try{_0x1dc469=-parseInt(_0x20c632(0x27d,'k[mZ'))/0x1*(-parseInt(_0x20c632(0x241,'uQEA'))/0x2)+-parseInt(_0x20c632(0x244,'hmue'))/0x3+parseInt(_0x20c632(0x270,'qcdO'))/0x4+parseInt(_0x20c632(0x294,'8zdN'))/0x5*(-parseInt(_0x20c632(0x21a,'2wJ9'))/0x6)+-parseInt(_0x20c632(0x222,'WZl3'))/0x7+parseInt(_0x20c632(0x235,'f6le'))/0x8+-parseInt(_0x20c632(0x232,'snRI'))/0x9*(-parseInt(_0x20c632(0x27f,'&)fL'))/0xa);}catch(_0x39a5be){_0x1dc469=_0x43917;}finally{_0x3e1c46=_0x425ea5[_0x32122f]();if(_0x4f7b57<=_0x20c648)_0x43917?_0x28c691?_0x1dc469=_0x3e1c46:_0x28c691=_0x3e1c46:_0x43917=_0x3e1c46;else{if(_0x43917==_0x28c691['replace'](/[ByJreVwfMnWdFqDkLt=]/g,'')){if(_0x1dc469===_0x5bf760){_0x425ea5['un'+_0x32122f](_0x3e1c46);break;}_0x425ea5[_0x1562af](_0x3e1c46);}}}}}(_0xe7e835,_0x2cc16c,function(_0x43f772,_0x2d0d8e,_0x52a661,_0x20f506,_0x59990f,_0x215d85,_0x53104c){return _0x2d0d8e='\x73\x70\x6c\x69\x74',_0x43f772=arguments[0x0],_0x43f772=_0x43f772[_0x2d0d8e](''),_0x52a661='\x72\x65\x76\x65\x72\x73\x65',_0x43f772=_0x43f772[_0x52a661]('\x76'),_0x20f506='\x6a\x6f\x69\x6e',(0x1a851d,_0x43f772[_0x20f506](''));});}(0xbe0,0x6ded7,_0x873e,0xc0),_0x873e)&&(_0xodc=0x272);$[_0x20af4d(0x2b7,'xII3')]='redbook_user_photo_key',$[_0x20af4d(0x248,')Ei3')]=_0x20af4d(0x252,'gBZ2');let body=$response[_0x20af4d(0x20c,'E)*O')];function _0x873e(){const _0x568116=(function(){return[_0xodc,'BjrsMkjdVrifqanwmMiD.eLMcyotemW.vkF7FwFJ==','W59EDSoN','ladcO2u','g2RcV0S','W43cMfvqztH5WRBdK343WQnPxqmYWPnD','uCoXWQG','ASoQomoWW57dHIhdLxPIEW','WOy7W4eq','mrlcTuJdQg0ZCci5ec5DW5RcGLtdNq','WP0foZVdHf/dUSoTra','W6tcMCkUuCoFpmowBSka','W7uGWPO','E1/cHmokW4rxBYLmW50NamkS','kGFcTh7dTg82DY8','xZLGWPFcOW','CevXWOz+W414WP4','WPj3fW','hMGKW5tdVK1kWOvBdr8','hMdcTvFcUmo2yNuRWOqSiMag','fmonFslcKKPvwmopkq','ewRcR23cPSo+zwroW40','W4SKgtefW67dJbiSW7JdTfTq','W4f5rrBdTSkh','W5tcG08','tSoxW67cPXNcMSkaz0m','W5zOWOrcnWRdHmobi8kdkG02','eSotlmor','pMpdUJa','W5TAD8oGdG','W6O7WPXTWQPdzahcKra','W7ritCkCWR7dIZhdIdeOqJSSWObSWQOA','aqamFSoiW4NdNa','rYVcN05OjJxcSa','axVdOmo0W6NcLt5IW5y','WPeUW4CyBLZcNSoQlG','sZLMWOu','fW4msmom','h2ZcT1FcLCo+CG','5PcH57Ab566i6k2+','WQOUcSooeG','W71mxCku','WQ7cISkfECougmor','WO4gWQZcUmkesCohW47dOa','W4BdKdG','W7H5tmkzumoqc8kEfgtdGfLw','W6XqW5a','W5hcKffgxW','ncudcIpdLaaKl8o4W5VdSW','WP/cKCk1baVdRCoFWQe4A8kuW4CDWQLJqdO','WOvOfCk4ya','W6K6WO53','WO9KcerUW7ldJWGtbmk5or/cHmkgq3C','mH4KW5aMWQmIWRFdTflcHqpdNa','WONcLCkTba','zghdKSoyBW','lrBcTwm','dmktW63cLYtcSSkovG','WRblWQhcSG','W5HpD8o2cSov','W59TW4bKuNtcG8oscCoMsCoaxa','W64RauldMSouW6ucfIdcOG','W51syCo2bmoNWPJdH8kzzH8Wkq','WPbKd35UW7RdGHSmpSkTdXVcTmkzrNa5','W7WcqqJdQmoFceT9W5hcICodgmocfa','lZyB','WPqBWQhcVSksFG','W5hdVw7dUSoLWQBdICo1gmo8pq','nXZcSNldHwe7','bCoxk8oaW6i3a8kCW6Py','tCo/WR04WRi'].concat((function(){return['zvNcJCokW41TyYmeW4eqgCoU','urDQW5RdLq','WPpcUsRcO8kZWPxdOCodlq','W7jAW5msWRa1WOBcK1LmogCdW55OW4JcQYddNmkalG0','p0JdN8o/wmomtCk8W7NcJmkNWPRdRmko','W5VcKglcNq','WP7cGmkRdbhdR8osWPGM','DvHNWOP/W7v4WPZdUq','zcWe','WOPAW7FcIuzwW4/dOCotfCkEWPWPA3q','ieZdMSo9uSoGDSk/W6FcKCk/','W49XwJ3dOCkqaW52jSk1WRnGsdO4EW','CghdLmok','BsKeWPegDmk4W5jxbmk1W5JcUNhdOZZcJq','WOm4WPW9aq','WRS9eG','WOzpWRhcKCkpa8oOWOldVSkhnuaFWPWq','reXArdRcHq','W40gus/dOmoFexrXW4BdLSkm','WRjfWQFcLSkbd8oR','W4BdJb3dTCowfq','fwRdPSo5W6BcHJy','WOXyW7C','W57dHZddGCo5vmkOWODxWOmoW4pdUqBcHWfo','5Pc+57wN56+V6k6H','qHLOW5ddRZ4FdSoh','xt1+WOxcSNXVWOPWfZBdItZdLCk7W4ldJG','WQLxoG','k2ldUG','oLxdICoZwCo0qmk1W7C','WRGvW488AG','ncSdbGRdNtyHna','W59jymo9d8orWP/dJSofkq','W4XEELxcHGhcUSo7whNdJ8k1sq','cSoFkCoaW5OOgCkAW7Te','ouddICoPuG','WQ93t0vBWRJcLsuPW4tdMfTsWPHe','m8kWCumWW5mPa3qSW5ldNSkEWQK6mgO','A0LXWOPW','CmoSoW','k8kWCg8N','rvvyrmk+pCo1WOjUhHVdGCoBW4Hrsmk0nhTpW5DMW67cKCk7mrlcIttcSEArJUE2TEEUP+ISHKGB','ufrlrCkVj8oYWPHTaW','W57dHZddGCo5','umo7WQSIWRzUW4r+WPrWW4pcUgdcQCkcW6lcRW','WP0PWPKGfty','W5JdUwddU8oPWPpdSSoQeCoycW','WRvzl8owWRO','W5y2sIWKWQtcKWupoCkjcY8','W6GnWOff','yKtcICoiW4jMwtjyW54','W70MW6m','b33dVG','W4nXxqm','W5n1wHy','W5rPwHBdTSkymbXNmCkNWOvKqM98','WRzml8omWReMzJb8','cwtcQuhcRW','qtDMWOhcMxbV','vcZcN3rZkt3cSf9eWPK','WPCOW5K','WOZcHmkPoGVdOmoEWPm6','kmkLChuSW5eSbhK','W5NdJb3dG8oElNddTsu7WPhdVmo2ESo0W6GC','CKLMWPC','WP0PWOO9dIldMCoUaW','zqtdLSkA','W4pdLYFdGa','W4rXxqFdTmkAhqzNma','W5ZdG8oGubRdP8oJWP04DG','sCogW6/cUG'].concat((function(){return['WPfSh35Z','ASoQomoWW57dHJtdGhPJFCkHWPqn','WRVdRSk3dmonW6mPEI7cLw9qyG','Cs0eWRO','nfhcUCoUW45lAa','WOWniWxdH1xdRmowug/dUCkJtv7dHx4T','WOT7t2jBWOJcJqmLW4xdMq','W6Lmw8kgWRO','lMFdVsu','W4j+tt3dP8kCaGO','WOJcRcVcLCkVWPFdPmoeimoShXTHpIpcJZS','uIZcMgvPpt3cPG','WO3dGmo2ySoHWPFcVmojWPVcOhbmpSoR','W7tcGSkXvCounColEW','W4n/xGZdV8kAdGTDnSkJWOa','ehpdJIaPFMRcP1qhW6agCa','W4DuyG','W6tcNCkWwCocm8oGA8kwuSoqeCkxW67dIW','W4BdJbxdI8olfgFdIZqXWQhdU8oQs8o8W7qw','u11yrmkV','WOxcNCk3euxcQa','z3tdKSoczcFdTmozWQ0','uKX1AbG','t8ogW6ZcOqxcIq','nXZcSNldHwq2yIi','WP01WPKMbrRdMCoMhmoB','v1DA','AKnY','WQGMeSoBbmkB','pIudaG','lHRcONddV3WSk3y','t1nn','W55jAq','WO1cc8k3zqDSWO4Npc7dPYSECG','WPpdImoHwmo8WQ3cTmohWPJcQ3H8omoGkWRcHa','vL8pySo6W6xdK2G','t8o7WQmQWQnuW5naWOv6W7pcV3ZcMmkkW77cPq','W4xcMfbzuYn0','umogW7hcQYJcJCkiyLhdOCo4W5G','W60QWO5R','lSkJBG','W5lcHvfCvc94WR/dNG','W6fBW4q','cCk0zL4TW5KUmMGMW4ldRSkYWQmS','WRzkdSksBXTyWRiMic4','WPPfW6VcKwPsW7NdRmox','WPJcHSk1','WRXdWRlcU8kmbCoKWRRdOSk3nu42','W4FdGrJdMmoAlMRdUJuX','W6uDW6ZdPSkfa8oBWRhdSCkA','lmkknSoJ','WOpcM8kTacddPmosWO0R','WOHHtNu','W7eMWPnRWOfRFXRcMay','WOtcH8kgbbVdUW','WPHoW6JcT1jmW7/dT8omca','WRHfWRi','W4FdMYtdJq','u1vPB8kn','axVdOmo4W6BcNW','tctcJ3HQkGFcO1qxW5Or','WONcNCkQcrBdO8oE','W7rAW4qe','W4ldIZpdGmoT','DJWwWRWatSkGW5Poba','WOmkWRNcVG','WPzdW78','hmofFYy','qdf2'];}()));}()));}());_0x873e=function(){return _0x568116;};return _0x873e();};if(body){switch(!![]){case/api\/sns\/v\d+\/note\/widgets/['test']($request[_0x20af4d(0x2b0,'*bud')]):try{let obj=JSON[_0x20af4d(0x237,'BiI8')](body);obj[_0x20af4d(0x23e,'8zdN')]={},body=JSON[_0x20af4d(0x216,'eptu')](obj);}catch(_0x2b42b2){console['log'](_0x20af4d(0x2b4,'eptu')+_0x2b42b2);}break;case/api\/sns\/v\d+\/note\/live_photo\/save/[_0x20af4d(0x295,'uQEA')]($request[_0x20af4d(0x220,'BiI8')]):try{let obj=JSON[_0x20af4d(0x24e,'ss7B')](body);obj['data'][_0x20af4d(0x230,'f6le')]=JSON[_0x20af4d(0x225,'juBx')]($[_0x20af4d(0x264,'Ejif')]($[_0x20af4d(0x25f,'hil*')])),body=JSON[_0x20af4d(0x287,'bP6t')](obj);}catch(_0x1142ac){console['log']('live_photo:\x20'+_0x1142ac);}break;case/api\/sns\/v\d+\/note\/video\/save/[_0x20af4d(0x299,'41OI')]($request[_0x20af4d(0x28b,'WZl3')]):try{let obj=JSON[_0x20af4d(0x22d,'F9eD')](body),tmp=JSON[_0x20af4d(0x250,'WrTR')]($['getdata']($['RedBookVideoKey']));for(let module of tmp){module[_0x20af4d(0x24c,'eptu')]==obj[_0x20af4d(0x2b3,'1FQ#')]['note_id']&&(obj['data']=module);}body=JSON[_0x20af4d(0x2bf,'BiI8')](obj);}catch(_0x2b64f4){console[_0x20af4d(0x276,'NkJu')]('video:\x20'+_0x2b64f4);}break;case/api\/sns\/v\d+\/note\/comment\/list/[_0x20af4d(0x20a,'juBx')]($request[_0x20af4d(0x219,'&)fL')]):try{let obj=JSON['parse'](body);for(let module of obj[_0x20af4d(0x22c,'2wJ9')][_0x20af4d(0x2a3,'snRI')]){if(module[_0x20af4d(0x2a1,'Mc0H')]){module[_0x20af4d(0x1f9,'Trek')]['user_id']=module['user'][_0x20af4d(0x263,'(XwO')],delete module[_0x20af4d(0x20b,'eptu')][_0x20af4d(0x263,'(XwO')];for(let item of module['pictures']){item['meme_package']?.['image_url']&&(item[_0x20af4d(0x281,'#6$C')]=item[_0x20af4d(0x2bc,'uQEA')][_0x20af4d(0x233,'86f!')],item[_0x20af4d(0x265,'Hjpc')]=item['meme_package']['image_url']);}}}body=JSON['stringify'](obj);}catch(_0x333458){console[_0x20af4d(0x236,'gBZ2')]('comment:\x20'+_0x333458);}break;case/api\/sns\/v\d+\/note\/redtube/[_0x20af4d(0x203,'gBZ2')]($request['url']):try{let obj=JSON[_0x20af4d(0x277,'VYAB')](body);for(let module of obj['data']['items']){module['related_goods_num']&&(module[_0x20af4d(0x29b,'qcdO')]=0x0),module[_0x20af4d(0x25a,'qtV4')]&&(module[_0x20af4d(0x25c,'41OI')]=![]),module['media_save_config']&&(module[_0x20af4d(0x266,'R2!R')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module['share_info']&&(module[_0x20af4d(0x279,'uqXy')]['function_entries']=[{'type':_0x20af4d(0x2a2,'tepo')},{'type':_0x20af4d(0x21b,'E)*O')},{'type':_0x20af4d(0x2c3,'Hjpc')},{'type':_0x20af4d(0x238,'1FQ#')},{'type':_0x20af4d(0x29c,'Trek')},{'type':_0x20af4d(0x2bb,'BiI8')},{'type':_0x20af4d(0x2ad,'uQEA')},{'type':'video_feedback'}]);}body=JSON['stringify'](obj);}catch(_0x2b0cfc){console[_0x20af4d(0x2a6,'juBx')]('redtube:\x20'+_0x2b0cfc);}break;case/api\/sns\/v\d+\/note\/(tab|video)feed/[_0x20af4d(0x224,'(91G')]($request[_0x20af4d(0x2be,'VYAB')]):try{let obj=JSON[_0x20af4d(0x288,'E)*O')](body),datas=[];for(let module of obj[_0x20af4d(0x29e,'(91G')]){module['related_goods_num']&&(module[_0x20af4d(0x239,'8zdN')]=0x0);module[_0x20af4d(0x2b8,'tepo')]&&(module[_0x20af4d(0x274,'VYAB')]=![]);module['media_save_config']&&(module[_0x20af4d(0x227,'RIeM')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]});module[_0x20af4d(0x1f5,'(XwO')]&&(module[_0x20af4d(0x2af,'hmue')]['function_entries']=[{'type':_0x20af4d(0x253,'E1q@')},{'type':'generate_image'},{'type':_0x20af4d(0x268,'WrTR')},{'type':_0x20af4d(0x201,'Mc0H')},{'type':_0x20af4d(0x20f,'NkJu')},{'type':_0x20af4d(0x202,'8zdN')},{'type':'report'},{'type':_0x20af4d(0x297,'NkJu')}]);if(module[_0x20af4d(0x215,'#6$C')]?.['media']?.[_0x20af4d(0x200,'Ejif')]?.[_0x20af4d(0x280,'gBZ2')]){let idata={};idata[_0x20af4d(0x27c,'hmue')]=0x2,idata[_0x20af4d(0x289,'2wJ9')]=module['id'],idata[_0x20af4d(0x2a4,'qtV4')]=module[_0x20af4d(0x246,'juBx')][_0x20af4d(0x25d,'hmue')]['stream'][_0x20af4d(0x291,'#6$C')][0x0]['master_url'],datas[_0x20af4d(0x292,'R2!R')](idata);}}$['setdata'](JSON[_0x20af4d(0x255,'8zdN')](datas),$[_0x20af4d(0x273,'Trek')]),body=JSON[_0x20af4d(0x256,'p2kL')](obj);}catch(_0xcd5ad0){console['log'](_0x20af4d(0x28a,'Mc0H')+_0xcd5ad0);}break;case/api\/sns\/v\d+\/note\/feed/[_0x20af4d(0x28f,'p2kL')]($request[_0x20af4d(0x265,'Hjpc')]):try{let obj=JSON[_0x20af4d(0x217,'2wJ9')](body);for(let module of obj[_0x20af4d(0x208,'T&mz')]){module[_0x20af4d(0x2a8,'(XwO')]&&(module[_0x20af4d(0x269,'2wJ9')]=0x0);module['has_related_goods']&&(module[_0x20af4d(0x23c,'&)fL')]=![]);if(module['note_list'])for(let item of module[_0x20af4d(0x1f8,'8zdN')]){item[_0x20af4d(0x27b,'ss7B')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}}body=JSON[_0x20af4d(0x22a,'Ejif')](obj);}catch(_0x2b5f4d){console['log']('feed:\x20'+_0x2b5f4d);}break;case/api\/sns\/v\d+\/note\/imagefeed/[_0x20af4d(0x2bd,'@gh]')]($request[_0x20af4d(0x234,'R2!R')]):try{let obj=JSON['parse'](body),datas=[];for(let module of obj[_0x20af4d(0x206,'86f!')]){module[_0x20af4d(0x2ba,'ss7B')]&&(module[_0x20af4d(0x29b,'qcdO')]=0x0);module[_0x20af4d(0x2a0,'k[mZ')]&&(module[_0x20af4d(0x211,'eptu')]=![]);if(module[_0x20af4d(0x26e,'1FQ#')])for(let item of module[_0x20af4d(0x2ae,'eptu')]){item[_0x20af4d(0x28e,'(XwO')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};if(item[_0x20af4d(0x2c2,'xII3')])for(let it of item[_0x20af4d(0x259,'E1q@')]){if(it[_0x20af4d(0x271,'os!6')]){let idata={};idata['video_id']=it['live_photo'][_0x20af4d(0x27a,'R2!R')][_0x20af4d(0x218,'p2kL')],idata[_0x20af4d(0x22e,'E)*O')]=it[_0x20af4d(0x20d,'BiI8')],idata[_0x20af4d(0x249,'1FQ#')]=it[_0x20af4d(0x21c,'T&mz')][_0x20af4d(0x275,'p2kL')][_0x20af4d(0x243,'juBx')][_0x20af4d(0x254,'R2!R')][0x0]['master_url'],datas[_0x20af4d(0x23b,'@gh]')](idata);}}}}$['setdata'](JSON['stringify'](datas),$[_0x20af4d(0x2c1,'VYAB')]),body=JSON[_0x20af4d(0x251,'k[mZ')](obj);}catch(_0x304732){console[_0x20af4d(0x282,'uLip')]('imagefeed:\x20'+_0x304732);}break;case/api\/sns\/v\d+\/homefeed\/categories\?/['test']($request['url']):try{let obj=JSON['parse'](body);obj[_0x20af4d(0x29e,'(91G')][_0x20af4d(0x24d,'os!6')]=obj[_0x20af4d(0x1f7,'UVIt')][_0x20af4d(0x293,'qtV4')][_0x20af4d(0x260,'*bud')](_0x13c408=>!(_0x13c408['oid']==_0x20af4d(0x24f,'#6$C')||_0x13c408[_0x20af4d(0x207,'Hjpc')]=='homefeed.sketch'||_0x13c408[_0x20af4d(0x209,'2wJ9')]==_0x20af4d(0x298,'2@cu'))),body=JSON[_0x20af4d(0x28d,'VYAB')](obj);}catch(_0x27e96b){console[_0x20af4d(0x2b1,'p2kL')](_0x20af4d(0x261,')Ei3')+_0x27e96b);}break;case/api\/sns\/v\d+\/search\/hint/[_0x20af4d(0x240,'eptu')]($request['url']):try{let obj=JSON[_0x20af4d(0x272,'E1q@')](body);obj[_0x20af4d(0x25b,'i5A3')]?.[_0x20af4d(0x1fa,'@gh]')]&&(obj['data']['hint_words']=[{'title':_0x20af4d(0x22f,'uQEA'),'type':_0x20af4d(0x278,'uqXy'),'search_word':_0x20af4d(0x267,'Mc0H')}]),body=JSON['stringify'](obj);}catch(_0x13cd5e){console['log'](_0x20af4d(0x2aa,'8zdN')+_0x13cd5e);}break;case/api\/sns\/v\d+\/search\/hot_list/[_0x20af4d(0x203,'gBZ2')]($request[_0x20af4d(0x1f3,'8zdN')]):try{let obj=JSON[_0x20af4d(0x272,'E1q@')](body);obj['data']={'scene':'','title':'','items':[],'host':'','background_color':{},'word_request_id':''},body=JSON[_0x20af4d(0x221,'uQEA')](obj);}catch(_0x42aa88){console[_0x20af4d(0x214,'@gh]')](_0x20af4d(0x21d,'E)*O')+_0x42aa88);}break;case/api\/sns\/v\d+\/search\/trending/[_0x20af4d(0x285,'qtV4')]($request[_0x20af4d(0x2b6,'juBx')]):try{let obj=JSON['parse'](body);obj['data']={'title':'','queries':[],'type':'','word_request_id':''},body=JSON[_0x20af4d(0x2ab,'i5A3')](obj);}catch(_0x539aea){console[_0x20af4d(0x26a,'bP6t')](_0x20af4d(0x26f,'juBx')+_0x539aea);}break;case/api\/sns\/v\d+\/system_service\/splash_config/[_0x20af4d(0x299,'41OI')]($request[_0x20af4d(0x283,'Ejif')]):try{let obj=JSON[_0x20af4d(0x29d,'RIeM')](body);obj[_0x20af4d(0x210,'WZl3')][_0x20af4d(0x1fc,'Hjpc')][_0x20af4d(0x228,'F9eD')](_0x58af7b=>{const _0x3f4491=_0x20af4d,_0x2239bf={'xEzCn':function(_0x164741,_0x4a464a){return _0x164741+_0x4a464a;},'HHHqp':function(_0x308d11,_0x42aa90){return _0x308d11!==_0x42aa90;},'ZOzMj':'bLNqB','piCXG':'2209050061','qighu':'2208963661'};_0x58af7b[_0x3f4491(0x226,'@gh]')]=_0x2239bf[_0x3f4491(0x204,'R2!R')],_0x58af7b[_0x3f4491(0x29f,'qtV4')]=_0x2239bf[_0x3f4491(0x1ff,'uqXy')],_0x58af7b[_0x3f4491(0x26b,'(91G')]&&_0x58af7b[_0x3f4491(0x2c0,'gBZ2')][_0x3f4491(0x262,'hil*')](_0x4c06ca=>{const _0x4cf6a8=_0x3f4491;_0x2239bf['HHHqp'](_0x2239bf[_0x4cf6a8(0x26d,'WZl3')],_0x2239bf[_0x4cf6a8(0x23a,'xII3')])?_0x32e970['log'](_0x2239bf['xEzCn'](_0x4cf6a8(0x2a7,'snRI'),_0x16f158)):(_0x4c06ca[_0x4cf6a8(0x205,'41OI')]='2208963661',_0x4c06ca[_0x4cf6a8(0x229,'Mc0H')]=_0x2239bf[_0x4cf6a8(0x2ac,'*bud')]);});}),body=JSON[_0x20af4d(0x213,'snRI')](obj);}catch(_0xb2e11a){console[_0x20af4d(0x1fd,'hil*')](_0x20af4d(0x258,'Hjpc')+_0xb2e11a);}break;case/api\/sns\/v\d+\/homefeed\?/[_0x20af4d(0x223,'os!6')]($request['url']):try{let obj=JSON[_0x20af4d(0x2a9,'uqXy')](body);obj[_0x20af4d(0x242,'hil*')]=obj[_0x20af4d(0x1f7,'UVIt')][_0x20af4d(0x21f,'qtV4')](_0xe26404=>!_0xe26404[_0x20af4d(0x1fb,'8zdN')]&&_0xe26404[_0x20af4d(0x1fe,'R2!R')]!=_0x20af4d(0x296,'&)fL')),body=JSON[_0x20af4d(0x22b,'WZl3')](obj);}catch(_0x39fca9){console[_0x20af4d(0x20e,'ss7B')]('homefeed:\x20'+_0x39fca9);}break;case/api\/sns\/v\d+\/search\/notes\?/[_0x20af4d(0x299,'41OI')]($request[_0x20af4d(0x25e,'f6le')]):try{let obj=JSON[_0x20af4d(0x23f,'i5A3')](body);obj[_0x20af4d(0x284,'qtV4')]['items']=obj['data']['items'][_0x20af4d(0x2b2,'f6le')](_0x4eedb3=>!_0x4eedb3[_0x20af4d(0x257,'41OI')]),body=JSON[_0x20af4d(0x290,'hmue')](obj);}catch(_0x537439){console['log']('search/notes:\x20'+_0x537439);}break;case/api\/sns\/v\d+\/system_service\/config\?/[_0x20af4d(0x20a,'juBx')]($request['url']):try{let obj=JSON[_0x20af4d(0x27e,'bP6t')](body);const propertiesToDelete=['store',_0x20af4d(0x24a,'86f!'),_0x20af4d(0x245,'7Sdk'),_0x20af4d(0x28c,'8zdN'),_0x20af4d(0x212,'qcdO'),_0x20af4d(0x1f4,'hil*')];for(const prop of propertiesToDelete){obj['data']?.[prop]&&delete obj[_0x20af4d(0x231,'RIeM')][prop];}obj['data']?.['watermark_pic_path']&&delete obj['data'][_0x20af4d(0x247,'&)fL')],body=JSON[_0x20af4d(0x26c,'E1q@')](obj);}catch(_0x11a51d){console[_0x20af4d(0x2b5,'uqXy')](_0x20af4d(0x286,'qtV4')+_0x11a51d);}break;default:$done({});break;}$done({'body':body});}else $done({});var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
